{"version":3,"file":"1-timer.js","sources":["../src/img/error.png","../src/js/1-timer.js"],"sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEpSURBVHgBrZXtEcIgDIZTzp5/3URHcSPpJLpBXcVd+FPwiqQt1y+SUNv3DuUkvA+0SQQg5Jx7WOt8zsBYyudEmXsPuijg3bbtB1ipa/jQYQ+UZVmBpHjyprEvyBTGSjf52zwbssdchBxhTkI4c2vtTTJMxcwgw6RObZReXDycMSYBcTWuQX/6RqcMQpCmIOPNHbG30SKAgkjmU8AJBJ3PpQ5GOO2KCYVFGEaFa9J+EbCEDIAsc5SCTCkFPjWXlHWD2Jvw5MNP2b1HBEzN42OZvhMRwmURly1cCvfrszSlC41PxR6SKjQs3g4Qg6z9PpdBxsitIhWDXrPDcZCtWplHHQEhzY+AiOZ7IJz5qg5iWygK/wjfFwD+T18pdfXe37e0j07jTeTBPZYfWztI8097RKsAAAAASUVORK5CYII=\"","\nimport flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport errorImage from '../img/error.png';\n\n//deactive button-Start\nconst inputTimer = document.querySelector(\".input-timer\");\nconst btnTimer = document.querySelector(\".btn-timer\");\nconst daysSpan = document.querySelector(\"span[data-days]\");\nconst hoursSpan = document.querySelector(\"span[data-hours]\");\nconst minutesSpan = document.querySelector(\"span[data-minutes]\");\nconst secondsSpan = document.querySelector(\"span[data-seconds]\");\n\n//відключення кнопки старт\nbtnTimer.setAttribute(\"disabled\", \"\");\n\nlet userSelectedDate = null;\nlet intervalId = null;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n    onClose(selectedDates) {\n        userSelectedDate = selectedDates[0];\n        const unixNowTime = Date.now();\n        \n        //Валидація дати\n        if (unixNowTime >= userSelectedDate.getTime()) {\n            iziToast.show({\n                title: '',\n                iconUrl: `${errorImage}`,\n                backgroundColor: 'red',\n                messageColor: 'white',\n                message: 'Please choose a date in the future',\n                position: 'topRight',\n            })\n            btnTimer.setAttribute(\"disabled\", \"\");\n        } else {\n            btnTimer.removeAttribute(\"disabled\");\n            \n        }   \n  },\n};\n//виклик flatpickr\nflatpickr(inputTimer, options);\n\n\n//форматування часу 00:00:00\nfunction pad(value) {\n    return String(value).padStart(2, '0');\n}\n\n//конвертація мс в дні, години, хвилини, секунди\nfunction convertMs(ms) {\n\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = pad(Math.floor(ms / day));\n  const hours = pad(Math.floor((ms % day) / hour));\n  const minutes = pad(Math.floor(((ms % day) % hour) / minute));\n  const seconds = pad(Math.floor((((ms % day) % hour) % minute) / second));\n  return { days, hours, minutes, seconds };\n}\n\n\n//відображення часу на екрані\nfunction displayTimer(ms) {\n    const { days, hours, minutes, seconds\n    } = convertMs(ms);\n    daysSpan.textContent = days;\n    hoursSpan.textContent = hours;\n    minutesSpan.textContent = minutes;\n    secondsSpan.textContent = seconds;\n}\n\n//запуск таймера\nfunction handleClick() {\n    if (intervalId !== null) {\n    clearInterval(intervalId); \n    };\n\n    inputTimer.setAttribute(\"disabled\", \"\");\n    btnTimer.setAttribute(\"disabled\", \"\");\n    const targetTime = userSelectedDate.getTime();\n\n    intervalId = setInterval(() => {\n        const currentTime = Date.now();\n        const timeRemaining = targetTime - currentTime;\n        \n        if (timeRemaining <= 0) {\n            clearInterval(intervalId);\n            displayTimer(0);\n            inputTimer.removeAttribute(\"disabled\");\n            return;\n        }\n\n        displayTimer(timeRemaining);   \n    }, 1000);\n    \n}\n\n\nbtnTimer.addEventListener(\"click\", handleClick);\n\n\n\n"],"names":["errorImage","inputTimer","btnTimer","daysSpan","hoursSpan","minutesSpan","secondsSpan","userSelectedDate","intervalId","options","selectedDates","iziToast","flatpickr","pad","value","convertMs","ms","days","hours","minutes","seconds","displayTimer","handleClick","targetTime","currentTime","timeRemaining"],"mappings":"+IAAA,MAAeA,EAAA,qjBCYTC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAW,SAAS,cAAc,YAAY,EAC9CC,EAAW,SAAS,cAAc,iBAAiB,EACnDC,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAc,SAAS,cAAc,oBAAoB,EACzDC,EAAc,SAAS,cAAc,oBAAoB,EAG/DJ,EAAS,aAAa,WAAY,EAAE,EAEpC,IAAIK,EAAmB,KACnBC,EAAa,KAEjB,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACf,QAAQC,EAAe,CACnBH,EAAmBG,EAAc,CAAC,EACd,KAAK,OAGNH,EAAiB,WAChCI,EAAS,KAAK,CACV,MAAO,GACP,QAAS,GAAGX,CAAU,GACtB,gBAAiB,MACjB,aAAc,QACd,QAAS,qCACT,SAAU,UAC1B,CAAa,EACDE,EAAS,aAAa,WAAY,EAAE,GAEpCA,EAAS,gBAAgB,UAAU,CAG5C,CACH,EAEAU,EAAUX,EAAYQ,CAAO,EAI7B,SAASI,EAAIC,EAAO,CAChB,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACxC,CAGA,SAASC,EAAUC,EAAI,CAOrB,MAAMC,EAAOJ,EAAI,KAAK,MAAMG,EAAK,KAAG,CAAC,EAC/BE,EAAQL,EAAI,KAAK,MAAOG,EAAK,MAAO,IAAI,CAAC,EACzCG,EAAUN,EAAI,KAAK,MAAQG,EAAK,MAAO,KAAQ,GAAM,CAAC,EACtDI,EAAUP,EAAI,KAAK,MAASG,EAAK,MAAO,KAAQ,IAAU,GAAM,CAAC,EACvE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAIA,SAASC,EAAaL,EAAI,CACtB,KAAM,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAClC,EAAQL,EAAUC,CAAE,EAChBb,EAAS,YAAcc,EACvBb,EAAU,YAAcc,EACxBb,EAAY,YAAcc,EAC1Bb,EAAY,YAAcc,CAC9B,CAGA,SAASE,GAAc,CACfd,IAAe,MACnB,cAAcA,CAAU,EAGxBP,EAAW,aAAa,WAAY,EAAE,EACtCC,EAAS,aAAa,WAAY,EAAE,EACpC,MAAMqB,EAAahB,EAAiB,UAEpCC,EAAa,YAAY,IAAM,CAC3B,MAAMgB,EAAc,KAAK,MACnBC,EAAgBF,EAAaC,EAEnC,GAAIC,GAAiB,EAAG,CACpB,cAAcjB,CAAU,EACxBa,EAAa,CAAC,EACdpB,EAAW,gBAAgB,UAAU,EACrC,MACH,CAEDoB,EAAaI,CAAa,CAC7B,EAAE,GAAI,CAEX,CAGAvB,EAAS,iBAAiB,QAASoB,CAAW"}